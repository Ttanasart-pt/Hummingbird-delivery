<div class="header">
    <div class="menu">
        <a href="/Hummingbird_delivery/pricing.html">Pricing</a>
        <a href="/Hummingbird_delivery/tracking.html">Tracking</a>

        <svg class="stroke light" xmlns="http://www.w3.org/2000/svg" width="2" height="56" viewBox="0 0 2 56">
            <line id="Line_2" data-name="Line 2" y2="56" transform="translate(1)" fill="none" stroke="#e6e6e6" stroke-width="2"/>
        </svg>
        <a href="/Hummingbird_delivery/index.html">
            <svg xmlns="http://www.w3.org/2000/svg" width="69.425" height="56.852" viewBox="0 0 69.425 56.852">
                <g id="Group_1" data-name="Group 1" transform="translate(-68.384 -80.965)">
                <path id="Path_1" data-name="Path 1" d="M80.009,213.349,68.384,223.866l12.73,7.815L89.84,217.7l-9.667,1.529Z" transform="translate(0 -98.947)" fill="#f7941d"/>
                <path id="Path_2" data-name="Path 2" d="M130.164,222.263l16.221-2.468-2.633,4.312h-7.49l-17.475,17.475Z" transform="translate(-37.672 -103.765)" fill="#118bff"/>
                <path id="Path_3" data-name="Path 3" d="M225.317,121.376l-16.581,1.674-7.09,11.614c-3.055.422-11.213,1.547-16.183,2.209l14.943-19.085Z" transform="translate(-87.508 -27.523)" fill="#118bff"/>
                <path id="Path_4" data-name="Path 4" d="M100.794,108.566l9.51,15,12.545,2.8,3.5-4.471L116.3,111.746Z" transform="translate(-24.224 -20.63)" fill="#118bff"/>
                <path id="Path_5" data-name="Path 5" d="M149.356,94.3l-10.68-9.589-14.4-3.744,3.625,6.814,7.333,1.663,10.426,9.572Z" transform="translate(-41.779)" fill="#118bff"/>
                <path id="Path_6" data-name="Path 6" d="M158.843,171.418l-2.584,8.949-33.652,5.363-.253-4.209,33.635-5.484Z" transform="translate(-40.338 -67.607)" fill="#f7941d"/>
                </g>
            </svg>
        </a>
        <svg class="stroke light" xmlns="http://www.w3.org/2000/svg" width="2" height="56" viewBox="0 0 2 56">
            <line id="Line_2" data-name="Line 2" y2="56" transform="translate(1)" fill="none" stroke="#e6e6e6" stroke-width="2"/>
        </svg>
        
        <a href="">Support</a>
        <a href="">About us</a>
    </div>
    <div class="user"> 
        <div id="action"></div>
        <!-- <script> $(function() { $('#action').load('/Hummingbird_delivery/header/action_delivery.html'); }) </script> -->

        <div class="notification">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="29.25" viewBox="0 0 24 29.25">
                <path id="Icon_material-notifications" data-name="Icon material-notifications" d="M18,33a3.009,3.009,0,0,0,3-3H15A3,3,0,0,0,18,33Zm9-9V16.5c0-4.6-2.46-8.46-6.75-9.48V6a2.25,2.25,0,0,0-4.5,0V7.02C11.445,8.04,9,11.88,9,16.5V24L6,27v1.5H30V27Z" transform="translate(-6 -3.75)"/>
            </svg>              
        </div>

        <a class="userarea" onclick="accountOverlayToggle()">
            <svg xmlns="http://www.w3.org/2000/svg" width="54" height="54" viewBox="0 0 54 54">
                <path id="Icon_awesome-user-alt" data-name="Icon awesome-user-alt" d="M15.141,17.034A8.517,8.517,0,1,0,6.624,8.517,8.519,8.519,0,0,0,15.141,17.034Zm7.57,1.893H19.453a10.3,10.3,0,0,1-8.623,0H7.57A7.57,7.57,0,0,0,0,26.5v.946a2.84,2.84,0,0,0,2.839,2.839h24.6a2.84,2.84,0,0,0,2.839-2.839V26.5A7.57,7.57,0,0,0,22.711,18.926Z" transform="translate(11.859 10.859)" fill="#fafafa"/>
            </svg>              
        </a>
    </div>

    <div class="account-overlay" id="account-overlay">
        <div id="login-detail">
            <h2 style="margin: 0px;">Login</h2>
            <!-- <form action="login.php"> -->
            <form onsubmit="fakeLogin()">
                <label for="username">Username</label>
                <input type="text" name="username" id="username">

                <label for="password">Password</label>
                <input type="password" name="password" id="password">
                <button type="submit">Login</button>
            </form>
        </div>
        <div id="account-detail">
            <div class="account-profile">
                <div class="profile-bg">
                    <svg xmlns="http://www.w3.org/2000/svg" width="65.262" height="65.262" viewBox="0 0 65.262 65.262">
                        <path id="Icon_awesome-user-alt" data-name="Icon awesome-user-alt" d="M32.631,36.71A18.355,18.355,0,1,0,14.276,18.355,18.36,18.36,0,0,0,32.631,36.71Zm16.315,4.079H41.923a22.188,22.188,0,0,1-18.584,0H16.315A16.314,16.314,0,0,0,0,57.1v2.039a6.12,6.12,0,0,0,6.118,6.118H59.143a6.12,6.12,0,0,0,6.118-6.118V57.1A16.314,16.314,0,0,0,48.946,40.789Z" fill="#fafafa"/>
                    </svg>
                </div>
                <div></div>
                <div>
                    <h3>Hummingbird</h3>
                    <p>humming@mail.com</p>
                </div>
            </div>
            <a class="account-menu" href="/Hummingbird_delivery/user/account_data.html">Account detail</a>
            <a class="account-menu">Locations</a>
            <a class="account-logout" onclick="logout()">Logout</a>
        </div>
    </div>

    <div class="mode-toggle">
        <a id="color" style="background-color: var(--accent);" onclick="toggleDarkMode()"><div style="background-color: var(--accent);">Toggle light / dark mode</div></a>
        <div style="width: 16px;"></div>

        <a id="mode-u" class="user-mode blue"   onclick="setMode(this)">U<div class="blue"  >User view</div></a>
        <a id="mode-s" class="user-mode orange" onclick="setMode(this)">S<div class="orange">Counter view</div></a>
        <a id="mode-c" class="user-mode purple" onclick="setMode(this)">C<div class="purple">Carrier view</div></a>
        <a id="mode-w" class="user-mode orange" onclick="setMode(this)">W<div class="orange">Warehouse view</div></a>
    </div>
</div>

<script>
    const user_mode = getCookie("mode", "U");
    const dark = getCookie("dark", "false");
    const user_logged_in = getCookie("user", "none");

    const ol = document.getElementById("account-overlay");
    function accountOverlayToggle() {
        if($('#account-overlay').is(":hidden"))
            $('#account-overlay').show();
    }

    $(document).mouseup(function(e) {
        if($(e.target).closest(".account-overlay").length === 0) {
            $('#account-overlay').hide();
        }
    })
    $('#account-overlay').hide();

    function setMode(o) {
        const d = new Date();
        d.setTime(d.getTime() + (24*60*60*1000));
        let e = "expires=" + d.toUTCString();
        document.cookie = "mode=" + o.innerHTML[0] + ";" + e + ";path=/";

        window.location.reload(false);
    }

    function toggleDarkMode() {
        let m = dark == "true"? "false" : "true";

        const d = new Date();
        d.setTime(d.getTime() + (99*24*60*60*1000));
        let e = "expires=" + d.toUTCString();
        document.cookie = "dark=" + m + ";" + e + ";path=/";

        window.location.reload(false);
    }

    function getCookie(cname, fallback) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for(let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ')
                c = c.substring(1);
            if (c.indexOf(name) == 0)
                return c.substring(name.length, c.length);
        }
        return fallback;
    }

    function fakeLogin() {
        const d = new Date();
        d.setTime(d.getTime() + (24*60*60*1000));
        let e = "expires=" + d.toUTCString();
        document.cookie = "user=1" + ";" + e + ";path=/";

        window.location.reload(false);
    }

    function logout() {
        const d = new Date();
        d.setTime(d.getTime() - (24*60*60*1000));
        let e = "expires=" + d.toUTCString();
        document.cookie = "user=1" + ";" + e + ";path=/";

        window.location.reload(false);
    }

    $(function() { 
        let root = document.documentElement;
        
        if(user_logged_in != "none") {
            $('#account-detail').show();
            $('.user-mode').show();
            $('#login-detail').hide();

            switch(user_mode) {
                case "U": 
                    $('#action').load('/Hummingbird_delivery/header/action_delivery.html'); 
                    root.style.setProperty('--accent', 'var(--blue)');
                    $('#mode-u').addClass("toggled");
                    break;
                case "S": 
                    $('#action').load('/Hummingbird_delivery/header/action_counter.html'); 
                    root.style.setProperty('--accent', 'var(--orange)');
                    $('#mode-s').addClass("toggled");
                    break;
                case "C": 
                    $('#action').load('/Hummingbird_delivery/header/action_carrier.html'); 
                    root.style.setProperty('--accent', 'var(--purple)');
                    $('#mode-c').addClass("toggled");
                    break;
                case "W": 
                    $('#action').load('/Hummingbird_delivery/header/action_warehouse.html'); 
                    root.style.setProperty('--accent', 'var(--orange)');
                    $('#mode-w').addClass("toggled");
                    break;
            }
        } else {
            $('#account-detail').hide();
            $('.user-mode').hide();
            $('#login-detail').show();
        }

        if(dark == "true") {
            $('#color').html('<svg xmlns="http://www.w3.org/2000/svg" width="22" height="21.9" viewBox="0 0 22 21.9"><path id="Icon_material-wb-sunny" data-name="Icon material-wb-sunny" d="M6.76,4.84,4.96,3.05,3.55,4.46,5.34,6.25ZM4,10.5H1v2H4ZM13,.55H11V3.5h2V.55Zm7.45,3.91L19.04,3.05,17.25,4.84l1.41,1.41Zm-3.21,13.7,1.79,1.8,1.41-1.41-1.8-1.79-1.4,1.4ZM20,10.5v2h3v-2Zm-8-5a6,6,0,1,0,6,6A6,6,0,0,0,12,5.5ZM11,22.45h2V19.5H11ZM3.55,18.54l1.41,1.41,1.79-1.8L5.34,16.74Z" transform="translate(-1 -0.55)" fill="#fafafa"/></svg>');

            root.style.setProperty('--text', 'var(--grey-aa)');
            root.style.setProperty('--text-light', 'var(--grey-b5)');

            root.style.setProperty('--bg', 'var(--grey-22)');
            root.style.setProperty('--pure', 'var(--grey-16)');
        } else {
            $('#color').html('<svg xmlns="http://www.w3.org/2000/svg" width="16.914" height="18.925" viewBox="0 0 16.914 18.925"><path id="Icon_awesome-moon" data-name="Icon awesome-moon" d="M10.738,18.925a9.445,9.445,0,0,0,7.35-3.5.444.444,0,0,0-.427-.715A7.413,7.413,0,0,1,12.606.98a.444.444,0,0,0-.139-.822,9.463,9.463,0,1,0-1.729,18.767Z" transform="translate(-1.276 0)" fill="#fafafa"/></svg>');

            root.style.setProperty('--text', 'var(--grey-70)');
            root.style.setProperty('--text-light', 'var(--grey-b5)');

            root.style.setProperty('--bg', 'var(--grey-fa)');
            root.style.setProperty('--pure', 'var(--grey-ff)');
        }
    })
</script>